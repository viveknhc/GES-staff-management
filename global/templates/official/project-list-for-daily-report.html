{% extends 'official/partials/base.html' %}
{% load static %}
{% block content %}


<!-- <div class="col-12">
    <h3>User: {{ user.username }}</h3>

    {% for month, totals in monthly_totals %}
    <h4>Total No. Sheet ({{ month }}): {{ totals.total_no_sheet }}</h4>
    <h4>Total WT/MT ({{ month }}): {{ totals.total_wt_mt }}</h4>
    {% endfor %}
</div> -->


<div class="card">
    <div class="card-body">



        <div class="col-12 w-100  col-xl-8 mb-4 mb-xl-0 pb-5">
            <div class="d-flex justify-content-between align-items-end">
                <h3 class="font-weight-bold">{{ user.username }}</h3>

                <div class="card card-light-danger">
                    <div class="card-body">
                        {% for month, totals in monthly_totals %}
                        <h4 class="mb-4">Total No. Sheet ({{ month }}): {{ totals.total_no_sheet }}</h4>
                        <h4 class="">Total WT/MT ({{ month }}): {{ totals.total_wt_mt }}</h4>

                        {% endfor %}
                    </div>
                </div>

            </div>




        </div>
        <div class="row">
            <div class="col-12">
                <div class="table-responsive">
                    <table id="order-listing" class="table">
                        <thead>
                            <tr>
                                <th>SL/NO</th>
                                <th>DATE</th>
                                <th>CUST/PROJECT</th>
                                <th>DESCRIPTION</th>
                                <th>NO OF SHEET</th>
                                <th>WT/MT</th>
                                
                                <th>REMARK</th>
                                <th>STATUS</th>
                            </tr>
                        </thead> 
                        <tbody>

                            {% for status in sorted_project_statuses %}
                            <tr>
                                <td>{{ forloop.counter }}</td>
                                <td>{{ status.updated_at }}</td>
                                <td> {{ status.project }} </td>
                                <td>{{ status.daily_description }}</td>
                                <td>
                                    {{ status.no_sheet }}
                                </td>
                                <td>
                                    {{ status.wt_mt }}
                                </td>
                                <td>{{ status.percentage }}%
                                </td>
                                <td>
                                    {% if status.project_status == 'Ongoing' %}
                                    <button type="button" class="btn btn-outline-warning btn-fw">On going</button>
                                    {% elif status.project_status == 'start' %}
                                    <button type="button" class="btn btn-outline-info btn-fw">Start</button>
                                    {% elif status.project_status == 'Completed' %}
                                    <button type="button" class="btn btn-outline-success btn-fw">Completed</button>
                                    {% else %}
                                    <button>Unknown Status</button>
                                    {% endif %}
                                </td>
                            </tr>

                            {% endfor %}

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}